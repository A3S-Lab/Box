# Cross-compilation configuration for guest binaries.
#
# Guest init and nsexec run inside the Linux MicroVM, so they must be
# compiled as static Linux binaries using musl libc.
#
# Prerequisites (macOS):
#   brew install filosottile/musl-cross/musl-cross
#   rustup target add aarch64-unknown-linux-musl

[target.aarch64-unknown-linux-musl]
linker = "aarch64-linux-musl-gcc"
rustflags = ["-C", "target-feature=+crt-static"]
